{% extends 'base.html' %}
{% block title %}
用户信息
{% endblock %}

{% block css %}
<style>
    tr > td:last-child {
        border: 1px solid red;
        padding: 2px 5px;
        cursor: pointer;
        border-radius: 5px;
    }
</style>
{% endblock %}

{% block middle %}
<h1>用户信息</h1>
<span>当前用户人数是：{{users | length}}</span>
<table>
    {% for user in users%}
    <tr>
        <td>{{loop.index}}</td>
        <td>{{user.username}}</td>
        <td>{{user.password}}</td>
        <td>{{user.phone}}</td>
        <td onclick="update('{{user.username}}')">修改</td>
        <td onclick="del('{{user.username}}')">删除</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}

{% block js %}
<script>
    function del(username) {
        //location 地址栏对象
        location.href = '/del?username=' + username
    }
    function update(username) {
        location.href = '/update?username=' + username
    }
</script>
{% endblock %}